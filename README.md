# API‚ÄëSample‚ÄëDBeaver‚ÄëDatabase

–ü—Ä–æ—Å—Ç–æ–π REST API –Ω–∞ Go –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —É—á–µ–±–Ω–æ–π –±–∞–∑—ã –≤ DBeaver –Ω–∞ SQLite‚Äì–±–∞–∑—ã (DBeaver Sample Database (SQLite)).

---

## üöÄ –ß—Ç–æ –≤–Ω—É—Ç—Ä–∏

- –°–µ—Ä–≤–µ—Ä –Ω–∞ Go (`database/sql`)
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ SQLite —á–µ—Ä–µ–∑ [`modernc.org/sqlite`](https://pkg.go.dev/modernc.org/sqlite) (–±–µ–∑ CGO)
- –ü—Ä–æ—Å—Ç–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –¥–ª—è –º–æ–¥–µ–ª–µ–π: Artist, Invoice –∏ –¥—Ä.
- –ü—Ä–∏–º–µ—Ä –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –¥–µ–º–æ-–±–∞–∑–µ DBeaver (Chinook)
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (–≤–∫–ª—é—á–∞—è `sql.ErrNoRows` ‚Üí 404)
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ `.env` + Viper

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
git clone https://github.com/Pitra25/API-Sample-DBeaver-Database.git
cd API-Sample-DBeaver-Database
```
### 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–æ–±—Ä–∞—Ç—å

```bash
go mod tidy
go build -o server
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å api
```bash
go run cmd/main.go
```
–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –≤ –∫–æ–Ω—Å–æ–ª–µ –ø–æ—è–≤–∏—Ç—Å—è —Å—Ç—Ä–æ–∫–∞ –∫–æ—Ç–æ—Ä–∞—è –æ–ø—Ä–∞–≤–∏—Ç –Ω–∞ swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
```text
{"level":"info","msg":"URL: http://localhost:8000/swagger/docs/index.html","time":"2025-01-01T10:00:00+00:00"}
```

## üìö –ü—Ä–∏–º–µ—Ä—ã API

### üîé –ü–æ–ª—É—á–∏—Ç—å –∞—Ä—Ç–∏—Å—Ç–∞ –ø–æ ID
```bash
GET /artists/1
```

* 200 OK ‚Äì –ê—Ä—Ç–∏—Å—Ç –Ω–∞–π–¥–µ–Ω
* 404 Not Found ‚Äì –ê—Ä—Ç–∏—Å—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω
* 500 Internal Server Error ‚Äì –û—à–∏–±–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### üì¶ –î—Ä—É–≥–∏–µ endpoints

| –ú–µ—Ç–æ–¥ | URL            | –û–ø–∏—Å–∞–Ω–∏–µ               |
| ----- | -------------- | ---------------------- |
| GET   | /artists       | –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö –∞—Ä—Ç–∏—Å—Ç–æ–≤ |
| GET   | /invoices      | –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Å—á–µ—Ç–∞     |
| GET   | /genres        | –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∂–∞–Ω—Ä—ã     |
| GET   | /invoices/\:id | –ü–æ–ª—É—á–∏—Ç—å —Å—á—ë—Ç –ø–æ ID    |

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```text
.
‚îú‚îÄ‚îÄ cmd/                   # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (main.go) ‚Äî –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
‚îú‚îÄ‚îÄ configs/               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã, –∑–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è (—á–µ—Ä–µ–∑ viper)
‚îú‚îÄ‚îÄ internal/              # –í—Å—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è API
‚îÇ   ‚îú‚îÄ‚îÄ app/               # –û—Å–Ω–æ–≤–Ω–∞—è —Ç–æ—á–∫–∞ —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Äî –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –º–∞—Ä—à—Ä—É—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ handler/           # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤ (–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å web-–∫–ª–∏–µ–Ω—Ç–æ–º)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ http/          # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è HTTP endpoints
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ middleware/    # HTTP middleware (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, CORS, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –¥—Ä.)
‚îÇ   ‚îú‚îÄ‚îÄ repository/        # –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö (–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å SQL)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ methods/       # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ —Ä–∞–∑–Ω—ã–º —Ç–∞–±–ª–∏—Ü–∞–º (Artist, Invoice –∏ –¥—Ä.)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/        # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ç–∞–±–ª–∏—Ü–∞–º –≤ –ë–î
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...            # –î—Ä—É–≥–∏–µ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ service/           # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (–æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–æ/–ø–æ—Å–ª–µ –ë–î)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ methods/       # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –±–∏–∑–Ω–µ—Å-—Ñ—É–Ω–∫—Ü–∏–π –ø–æ —Å—É—â–Ω–æ—Å—Ç—è–º
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...            # –†–∞—Å—à–∏—Ä—è–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–¥ –¥—Ä—É–≥–∏–µ —Å–µ—Ä–≤–∏—Å—ã
‚îú‚îÄ‚îÄ pkg/messages/          # –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç HTTP-–æ—Ç–≤–µ—Ç–æ–≤ (—É—Å–ø–µ—Ö, –æ—à–∏–±–∫–∞, –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –∏ —Ç.–¥.)
‚îú‚îÄ‚îÄ .env                   # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–ø—É—Ç—å –∫ –ë–î, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏ –ø—Ä.)
‚îú‚îÄ‚îÄ go.mod / go.sum        # –ú–æ–¥—É–ª–∏ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Go
‚îî‚îÄ‚îÄ README.md              # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ (—ç—Ç–æ—Ç —Ñ–∞–π–ª)
```


## ü§ù –í–∫–ª–∞–¥

Pull-request‚Äô—ã, –±–∞–≥-—Ä–µ–ø–æ—Ä—Ç—ã –∏ –∏–¥–µ–∏ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è!








